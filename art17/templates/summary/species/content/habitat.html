{% from '_macros.html' import parse_errors with context %}

    <td {{ parse_errors('habitat_surface_area', row, qa_errors,
            title=row.habitat_change_reason, classes='number border_left') }}>
        {{ row.habitat_surface_area|str2num }}
    </td>

    {% set classes=CONCLUSION_CLASSES.get(row.conclusion_habitat, '') %}
    {% set title=COUNTRY_ASSESSMENTS.get(row.conclusion_habitat, '') %}
    <td {{ parse_errors(['conclusion_habitat',
                         'percentage_habitat_surface_area'],
                          row, qa_errors,
                          title=title,
                          classes=classes) }}>
      <span class="conclusion">{{ row.percentage_habitat_surface_area|str1num }}</span>
    </td>

    {% if dataset.schema == '2012' %}
    {% set title=QUALITIES.get(row.habitat_quality|get_quality, '') %}
    <td {{ parse_errors('habitat_quality', row, qa_errors, title=title, classes='center') }}>
        {{ row.habitat_quality|get_quality }}
    </td>
    {% else %}
    <td></td>
    {% endif %}

    <td {{ parse_errors('habitat_trend', row, qa_errors, classes='center') }}>
        {{ row.habitat_trend or 'N/A' }}
    </td>

    <td {{ parse_errors('complementary_suitable_habitat',
                        row, qa_errors,
                        classes='border_right') }}>
      <span>{{ row.complementary_suitable_habitat|str2num }}</span>
    </td>
