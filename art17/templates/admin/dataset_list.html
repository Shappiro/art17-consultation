{% extends layout_template %}

{% block breadcrumbs %}
  {% from '_macros.html' import breadcrumbs %}
  {{ breadcrumbs(APP_BREADCRUMBS + [
      ('Manage datasets', None),
    ]) }}
{% endblock %}

{% block content %}
  <h1>Datasets</h1>

  <table class="table-list">
    <thead>
      <tr class="table-list-header">
        <th>ID</th>
        <th>name</th>
        <th>schema</th>
        <th>details</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
    {% for dataset in datasets %}
      <tr>
        <td>{{ dataset.id }}</td>
        <td>{{ dataset.name }}</td>
        <td>{{ dataset.schema }}</td>
        <td>
          Species:<br/>content: {{ dataset.stats.species_content }},
        auto: {{ dataset.stats.species_auto }}, manual: {{ dataset.stats.species_manual }}
          <br/>
          Habitat:<br/>content: {{ dataset.stats.habitat_content }},
        auto: {{ dataset.stats.habitat_auto }}, manual: {{ dataset.stats.habitat_manual }}
        </td>
        <td>
          <a href="{{ url_for('.dataset_edit', dataset_id=dataset.id) }}">
            edit
          </a>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock content %}
